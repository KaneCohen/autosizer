!function(){"use strict";function styleSetup(a){var maxHeight=a.el.style.maxHeight;a._overflow=a.el.style.overflow,""!==maxHeight?maxHeight=parseInt(maxHeight,10):(maxHeight=null,a.el.style.overflow="hidden"),a.o.maxHeight=maxHeight}function createClone(a){var clone=a._clone=document.createElement("textarea"),computedStyles=window.getComputedStyle(a.el),styles={};a.o.styles.forEach(function(v){styles[v]=computedStyles[v]}),util.extend(styles,cloneStyles);for(var k in styles)styles.hasOwnProperty(k)&&(clone.style[k]=styles[k]);clone.value=a.el.value,document.body.appendChild(clone)}function listen(a){util.on(a.el,"focusin.autosizer",function(){update(a),createClone(a),util.on(a.el,"keyup.autosizer input.autosizer",function(){update(a)})}),util.on(a.el,"focusout.autosizer",function(){util.off(a.el,"keyup.autosizer"),util.remove(a._clone),a._clone=null})}function destroy(a){util.off(a.el,".autosizer"),a._clone&&util.remove(a._clone),a.el.style.overflow=a._overflow}function update(a){requestAnimationFrame(function(){a._clone&&(a._clone.style.top="-9999px",a._clone.value=a.el.value,a._clone.style.height="auto",a._clone.style.height=a._clone.scrollHeight+"px",(null===a.o.maxHeight||a.o.maxHeight>parseInt(a._clone.style.height,10))&&(a.el.style.height=a._clone.style.height))})}function Autosizer(el,options){if(el.nodeName)this.el=el;else{if("undefined"==typeof el)throw"Error: No element found.";this.el=document.querySelector(el)}this.o=util.extend(defaults,options),styleSetup(this),listen(this),util.data(el,this)}var hasModule="undefined"!=typeof module&&module.exports,cloneStyles={position:"fixed",top:0,left:-9999,height:"auto",overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",minHeight:null,zIndex:1e3},defaults={maxHeight:null,styles:["width","lineHeight","fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","boxSizing"]};window.jQuery&&(jQuery.fn.autosizer=function(options){var args=arguments,as=null,o=jQuery.extend(!0,{},options);return this.each(function(){o.element=jQuery(this),as=util.data(this,"autosizer"),as?as.trigger.apply(as,args):"string"!=jQuery.type(options)&&new Autosizer(this,o)}),this});var util={remove:function(el){el.parentNode.removeChild(el)},data:function(el,prop,value){var p="data",data=el[p]||{};if("undefined"==typeof value){if(el[p]&&el[p][prop])return el[p][prop];var dataAttr=el.getAttribute(p+"-"+prop);return"undefined"!=typeof dataAttr?dataAttr:null}return data[prop]=value,el[p]=data,el},on:function(el,events,handler){var ev,i,prevEvents=this.data(el,"events")||{};if("string"==typeof events){for(events=events.match(/[\S]+/g),i=0;i<events.length;i++)ev=events[i],prevEvents[ev]?prevEvents[ev].push(handler):prevEvents[ev]=[handler],el.addEventListener(ev.split(".")[0],handler);this.data(el,"events",prevEvents)}},off:function(el,events,handler){var ev,i,k,prevEvents=this.data(el,"events")||{};if("string"==typeof events)for(events=events.match(/[\S]+/g),i=0;i<events.length;i++)if(ev=events[i],handler)el.removeEventListener(ev.split(".")[0],handler);else if(prevEvents[ev])prevEvents[ev].forEach(function(handler,k){el.removeEventListener(ev.split(".")[0],handler),prevEvents[k]=prevEvents[ev].slice(k+1)});else if("."===ev[0])for(k in prevEvents)k.indexOf(ev)>-1&&prevEvents[k].forEach(function(handler,j){el.removeEventListener(k.split(".")[0],handler),prevEvents[k]=prevEvents[k].slice(j+1)}),0===prevEvents[k].length&&delete prevEvents[k]},trim:function(string){return string.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"")},extend:function(target,source){for(var key in source)source.hasOwnProperty(key)&&(target[key]=source[key]);return target}};Autosizer.prototype={destroy:function(){destroy(this)},trigger:function(name){var args=Array.prototype.slice.call(arguments,1);return this.v.events[name]&&this.v.events[name].apply(this,args)===!1?!1:this[name]&&this[name].apply(this,args)===!1?!1:!0}},hasModule?module.exports=Autosizer:"function"==typeof define&&define.amd&&define("autosizer",function(){return Autosizer})}.call(this);